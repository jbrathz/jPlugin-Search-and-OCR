# jSearch ‚Äì PDF Search Plugin for WordPress

[![License](https://img.shields.io/badge/license-GPL%20v2%2B-blue.svg)](https://www.gnu.org/licenses/gpl-2.0.html)
[![WordPress](https://img.shields.io/badge/wordpress-5.0%2B-blue.svg)](https://wordpress.org/)
[![PHP](https://img.shields.io/badge/php-7.4%2B-purple.svg)](https://php.net/)

WordPress plugin ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏ô PDF ‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏ï‡πå WordPress ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö OCR ‡∏à‡∏≤‡∏Å Google Drive

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

### üîç ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
- **Full-text Search** - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ PDF, ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå, ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏û‡∏™‡∏ï‡πå
- **2 ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤** - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞ PDF ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏ß‡∏°‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Highlight ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô** - ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡πÉ‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
- **‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå** - ‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
- **Cache** - ‡πÅ‡∏Ñ‡∏ä‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

### üìÑ OCR Processing (2 ‡πÇ‡∏´‡∏°‡∏î)

#### 1. Single File Mode
- OCR ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡∏•‡∏∞ 1 ‡πÑ‡∏ü‡∏•‡πå
- ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏£‡∏∑‡∏≠ OCR ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

#### 2. Entire Folder Mode
- OCR ‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
- ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• 5 ‡πÑ‡∏ü‡∏•‡πå/batch ‡πÅ‡∏ö‡∏ö sequential
- **Smart File Detection** - ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- Realtime progress bar
- Pause/Resume ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠
- Admin ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠

### üéõÔ∏è Admin Features
- Dashboard ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
- ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ OCR 2 ‡πÇ‡∏´‡∏°‡∏î
- Active Jobs Table - ‡∏î‡∏π job ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
- REST API Debug Tool
- Import/Export Settings

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

### Smart File Detection
‡∏ó‡∏±‡πâ‡∏á 2 ‡πÇ‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ã‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢ PHP:

```php
// ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô OCR ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
if (is_file_processed($file_id)) {
    skip(); // ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß
} else {
    ocr_file($file_id); // OCR ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà
}
```

**‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:**
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤ API
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á duplicate
- Entire Folder ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ ‡∏à‡∏∞ OCR ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà

### Job System (Realtime Processing)
Entire Folder Mode ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö Job-based processing:

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Job ‚Üí ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô batches (5 ‡πÑ‡∏ü‡∏•‡πå/batch) ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `processing`
2. JavaScript ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• batch ‡∏ó‡∏µ‡∏•‡∏∞‡∏≠‡∏±‡∏ô
3. ‡πÅ‡∏™‡∏î‡∏á progress ‡πÅ‡∏ö‡∏ö realtime
4. **Smart Pause** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å Pause ‡∏à‡∏∞‡∏£‡∏≠‡πÉ‡∏´‡πâ batch ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `paused`
5. Resume ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏° ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `processing`
6. Job ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `completed` ‚Üí ‡∏•‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
7. ‡∏ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á OCR = Pause ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡∏î Continue ‡πÑ‡∏î‡πâ)

**Active Jobs Table:**
- ‡πÅ‡∏™‡∏î‡∏á job ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `processing`, `paused`, ‡∏´‡∏£‡∏∑‡∏≠ `completed` (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
- ‡∏õ‡∏∏‡πà‡∏° Continue - ‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å job ‡∏ó‡∏µ‡πà paused (‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏ó‡πá‡∏ö Entire Folder + ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå)
- ‡∏õ‡∏∏‡πà‡∏° Cancel - ‡∏•‡∏ö job ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
- ‡∏õ‡∏∏‡πà‡∏° Delete - ‡∏•‡∏ö job ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PDF)

## ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

- WordPress 5.0+
- PHP 7.4+
- MySQL 5.6+
- Python OCR API Service (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á PDF)

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

1. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `jsearch` ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `/wp-content/plugins/`
2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏±‡πä‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏ô WordPress
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **jSearch ‚Üí Settings** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### Shortcode
```
[jsearch]
```

‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
```
[jsearch placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." button_text="Search" results_per_page="20"]
```

### REST API

**‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:**
```
GET /wp-json/jsearch/v1/query?q=‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô&limit=10&offset=0
```

**‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:**
```
GET /wp-json/jsearch/v1/stats
```

**OCR Single File (Admin only):**
```
POST /wp-json/jsearch/v1/ocr
{
  "type": "file",
  "file_id": "Google_Drive_File_ID"
}
```

**Realtime Job Processing (Admin only):**
```
POST /wp-json/jsearch/v1/ocr-job/start
{
  "folder_id": "Google_Drive_Folder_ID"
}

GET /wp-json/jsearch/v1/ocr-job/{job_id}/status-detailed

POST /wp-json/jsearch/v1/ocr-job/process-batch
{
  "batch_id": 123
}

POST /wp-json/jsearch/v1/ocr-job/{job_id}/pause
POST /wp-json/jsearch/v1/ocr-job/{job_id}/resume
DELETE /wp-json/jsearch/v1/ocr-job/{job_id}?force=true
```

## ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### `wp_jsearch_pdf_index`
‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ PDF ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ï‡∏≤ (full-text indexed)

**Columns:**
- `file_id` (UNIQUE) - Google Drive File ID
- `pdf_title`, `pdf_url` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PDF
- `content` - ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà OCR ‡πÑ‡∏î‡πâ (FULLTEXT INDEX)
- `ocr_method` - ‡∏ß‡∏¥‡∏ò‡∏µ OCR (api/direct)
- `char_count` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
- `folder_id`, `folder_name` - ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- `post_id`, `post_title`, `post_url` - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á WordPress post

### `wp_jsearch_folders`
‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Google Drive

### `wp_jsearch_jobs`
‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• OCR jobs

**Statuses (3 statuses only):**
- `processing` - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- `paused` - ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
- `completed` - ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô

**Auto-cleanup:**
- Job ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `completed` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥ cleanup ‡∏ó‡∏∏‡∏Å 10 ‡∏ô‡∏≤‡∏ó‡∏µ (‡πÉ‡∏ä‡πâ WordPress transient)
- ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PDF ‡∏ó‡∏µ‡πà OCR ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `pdf_index`)

### `wp_jsearch_job_batches`
‡πÅ‡∏ö‡πà‡∏á job ‡πÄ‡∏õ‡πá‡∏ô batches (5 ‡πÑ‡∏ü‡∏•‡πå/batch)

## Architecture

### Realtime Processing Flow
```
User clicks "Run OCR on Folder"
    ‚Üì
Create Job (status: processing) + Batches (5 files each)
    ‚Üì
JavaScript processes batches sequentially
    ‚Üì
For each file in batch:
    - Check is_file_processed() in PHP
    - If already processed ‚Üí Skip
    - If new ‚Üí OCR via Python API ‚Üí Save to DB
    ‚Üì
Update progress bar in realtime
    ‚Üì
User can Pause (waits for current batch) or Resume anytime
    ‚Üì
Job completes ‚Üí status: completed ‚Üí auto-deleted after 1 hour
```

### Job Lifecycle
```
[Processing] ‚Üê‚Üí [Paused]
     ‚Üì
[Completed] ‚Üí Auto-cleanup after 1 hour
```

**Note:** Pause operation waits for current batch (5 files) to complete before actually pausing. This ensures data integrity and prevents incomplete batches.

### Uploads Directory
`/wp-content/uploads/jsearch/` ‡πÄ‡∏Å‡πá‡∏ö:

- **`jsearch.log`** - Plugin activity logs
  - ‡πÄ‡∏Å‡πá‡∏ö log ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á plugin
  - ‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢ `PDFS_Logger` class
  - Protected by `.htaccess` (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å web ‡πÑ‡∏î‡πâ)

- **`.htaccess`** - Security protection
  ```apache
  Options -Indexes
  <Files *.log>
  Order allow,deny
  Deny from all
  </Files>
  ```

- **`index.php`** - Prevent directory browsing

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- WordPress Nonces ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô CSRF
- Permission checks ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin endpoints
- Input sanitization ‡πÅ‡∏•‡∏∞ output escaping
- Prepared statements ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL Injection
- Rate limiting (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ)
- Log files protected from web access

### ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
- WordPress Transients caching
- Full-text search ‡∏î‡πâ‡∏ß‡∏¢ MySQL MATCH...AGAINST
- Indexed columns ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö faster queries
- Batch processing (5 files/batch) ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô timeout
- Smart file skipping ‡∏•‡∏î‡∏Å‡∏≤‡∏£ OCR ‡∏ã‡πâ‡∏≥
- Pagination support

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### REST API ‡∏Ç‡∏∂‡πâ‡∏ô 404
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings ‚Üí Permalinks** ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å "Save Changes"
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà **jSearch ‚Üí REST API Debug**
3. ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö URL: `/?rest_route=/jsearch/v1/...`

### OCR ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API settings ‡πÉ‡∏ô **jSearch ‚Üí Settings ‚Üí API**
2. Test connection ‡∏Å‡∏±‡∏ö OCR service
3. ‡πÄ‡∏õ‡∏¥‡∏î Debug Mode ‡∏î‡∏π logs ‡∏ó‡∏µ‡πà `/wp-content/uploads/jsearch/jsearch.log`
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà **jSearch ‚Üí Manual OCR ‚Üí Single File**

### ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô **jSearch ‚Üí Dashboard**
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö excluded pages ‡πÉ‡∏ô Settings
3. ‡πÄ‡∏õ‡∏¥‡∏î "Include All Posts/Pages" ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå
4. Clear cache ‡∏ó‡∏µ‡πà Dashboard

### Job ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
1. ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà **jSearch ‚Üí Manual OCR**
2. ‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á Active Jobs
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "Continue" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏° (‡∏à‡∏∞‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏ó‡πá‡∏ö Entire Folder + ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå)
4. ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å "Cancel" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö job

### Job ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏≤‡∏¢‡πÑ‡∏õ
- Job ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `completed` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ cleanup ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PDF ‡∏ó‡∏µ‡πà OCR ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `pdf_index` (‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö)
- ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ job ‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å "Delete" ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ñ‡∏∂‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

**Q: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ OCR service ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?**
A: ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏´‡∏≤‡∏Å PDF ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏™‡πÅ‡∏Å‡∏ô

**Q: Entire Folder ‡∏à‡∏∞ OCR ‡πÑ‡∏ü‡∏•‡πå‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?**
A: ‡πÑ‡∏°‡πà ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô database ‡∏Å‡πà‡∏≠‡∏ô OCR ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Ç‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**Q: ‡∏ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≠‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á OCR ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
A: ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡∏•‡∏¥‡∏Å "Continue" ‡πÑ‡∏î‡πâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß

**Q: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Pause/Resume ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?**
A: ‡πÑ‡∏î‡πâ Entire Folder Mode ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Pause/Resume ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠ ‡πÇ‡∏î‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å Pause ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏£‡∏≠‡πÉ‡∏´‡πâ batch ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (5 ‡πÑ‡∏ü‡∏•‡πå) ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

**Q: Job ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?**
A: ‡πÉ‡∏ä‡πà Job ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `completed` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡πÅ‡∏ï‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PDF ‡∏ó‡∏µ‡πà OCR ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤

**Q: ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ Deactivate?**
A: ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ settings ‡πÑ‡∏ß‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ uninstall ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏•‡∏ö

**Q: ‡∏ó‡∏≥‡πÑ‡∏°‡πÑ‡∏°‡πà‡∏°‡∏µ Incremental Mode?**
A: Entire Folder Mode ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Smart File Detection ‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ mode ‡πÅ‡∏¢‡∏Å‡∏≠‡∏µ‡∏Å

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
jsearch/
‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îú‚îÄ‚îÄ class-admin.php           # Admin page controller
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.php              # Dashboard page
‚îÇ   ‚îú‚îÄ‚îÄ manual-ocr.php             # Manual OCR page (2 modes)
‚îÇ   ‚îú‚îÄ‚îÄ manage-folders.php         # Folder management
‚îÇ   ‚îú‚îÄ‚îÄ settings.php               # Settings page
‚îÇ   ‚îú‚îÄ‚îÄ debug.php                  # REST API debug
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îî‚îÄ‚îÄ folder-ocr.js          # Realtime processing
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/admin.css              # Admin styles
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ admin.js               # Admin scripts
‚îÇ       ‚îî‚îÄ‚îÄ search.js              # Search functionality
‚îú‚îÄ‚îÄ includes/
‚îÇ   ‚îú‚îÄ‚îÄ class-activator.php        # Plugin activation
‚îÇ   ‚îú‚îÄ‚îÄ class-deactivator.php      # Plugin deactivation
‚îÇ   ‚îú‚îÄ‚îÄ class-database.php         # Database operations
‚îÇ   ‚îú‚îÄ‚îÄ class-folders.php          # Folder management
‚îÇ   ‚îú‚îÄ‚îÄ class-helper.php           # Helper functions
‚îÇ   ‚îú‚îÄ‚îÄ class-hooks.php            # Auto OCR hooks
‚îÇ   ‚îú‚îÄ‚îÄ class-logger.php           # Logging system
‚îÇ   ‚îú‚îÄ‚îÄ class-ocr-service.php      # OCR API integration
‚îÇ   ‚îú‚îÄ‚îÄ class-queue-service.php    # Job & Batch management
‚îÇ   ‚îú‚îÄ‚îÄ class-rest-api.php         # REST API endpoints
‚îÇ   ‚îî‚îÄ‚îÄ class-settings.php         # Settings management
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ class-public.php           # Public functionality
‚îÇ   ‚îî‚îÄ‚îÄ shortcode.php              # [jsearch] shortcode
‚îî‚îÄ‚îÄ jsearch.php                     # Main plugin file
```

## ‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°

Pull Requests ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!

1. Fork repository
2. Create feature branch (`git checkout -b feature/awesome-feature`)
3. Commit changes (`git commit -m 'Add awesome feature'`)
4. Push to branch (`git push origin feature/awesome-feature`)
5. Open Pull Request

## Changelog

### Version 1.0.0
- Full-text search ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PDF ‡πÅ‡∏•‡∏∞ WordPress content
- Google Drive OCR integration (2 modes: Single File, Entire Folder)
- **Smart File Detection** - ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (PHP-based)
- **Realtime batch processing** (5 ‡πÑ‡∏ü‡∏•‡πå/batch)
- **Pause/Resume functionality**
- **Active Jobs Table** - ‡∏î‡∏π job ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥
- REST API (10+ endpoints)
- Dashboard ‡πÅ‡∏•‡∏∞ admin tools
- Logging system (`/wp-content/uploads/jsearch/`)
- Import/Export settings
- Multi-language support (TH/EN)

**Architecture Highlights:**
- ‚úÖ JavaScript-driven realtime processing
- ‚úÖ PHP-based duplicate detection (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Python API incremental endpoint)
- ‚úÖ Batch processing (5 files per batch)
- ‚úÖ **3-status job system** (processing, paused, completed)
- ‚úÖ **Smart Pause** - ‡∏£‡∏≠ batch ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ **Auto-cleanup** - ‡∏•‡∏ö completed jobs ‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- ‚úÖ **Smart snippet** - ‡πÅ‡∏™‡∏î‡∏á snippet ‡∏£‡∏≠‡∏ö‡πÜ ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠ (¬±75 chars)
- ‚úÖ **Filter PDFs without posts** - ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á PDF ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ post_id
- ‚úÖ Smart file skipping
- ‚úÖ Secure log storage with .htaccess protection

## ‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

GPL v2 ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏ß‡πà‡∏≤

## ‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤

**JIRATH BURAPARATH**

## ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

- [GitHub Issues](../../issues) - ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ö‡∏±‡πä‡∏Å
- [GitHub Discussions](../../discussions) - ‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°

---

**Made with ‚ù§Ô∏è for Thai Pediatrics Community**
